<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate the total edge length of a raster associated with each park polygon — raster_edge_length • home2park</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Calculate the total edge length of a raster associated with each park polygon — raster_edge_length" />
<meta property="og:description" content="Helper function within parks_calc_attributes().
The total edge length of (classified) raster patches contained within
the polygons will be calculated. Additionally, the argument raster_edge_buffer provides a way include patches
in close proximity to the polygons. The total edge lengths are summed together and appended to the polygons
data as additional columns (or one column, if there is only one raster class).
Note that this operation may take a while to complete, as it involves the conversion of rasters to polygons (and vice versa)." />
<meta property="og:image" content="https://ecological-cities.github.io/home2park/reference/figures/logo.png" />
<meta property="og:image:alt" content="Spatial Provision of Urban Parks" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content="@song_xiaoping" />
<meta name="twitter:site" content="https://xp-song.github.io" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NS9BX6B4CZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NS9BX6B4CZ');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">home2park</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/home2park.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/online/metric-comparisons.html">Park area provision: Metric comparisons</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ecological-cities/home2park/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate the total edge length of a raster associated with each park polygon</h1>
    <small class="dont-index">Source: <a href='https://github.com/ecological-cities/home2park/blob/master/R/parks_calc_attributes_helpers.R'><code>R/parks_calc_attributes_helpers.R</code></a></small>
    <div class="hidden name"><code>raster_edge_length.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Helper function within <code><a href='parks_calc_attributes.html'>parks_calc_attributes()</a></code>.
The total edge length of (classified) raster patches contained <a href='https://postgis.net/docs/ST_Within.html'>within</a>
the <code>polygons</code> will be calculated. Additionally, the argument <code>raster_edge_buffer</code> provides a way include patches
in close proximity to the <code>polygons</code>. The total edge lengths are summed together and appended to the <code>polygons</code>
data as additional columns (or one column, if there is only one raster class).
Note that this operation may take a while to complete, as it involves the conversion of rasters to polygons (and vice versa).</p>
    </div>

    <pre class="usage"><span class='fu'>raster_edge_length</span><span class='op'>(</span>
  <span class='va'>polygons</span>,
  <span class='va'>raster</span>,
  raster_min_patch_size <span class='op'>=</span> <span class='fu'>units</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/units/man/units.html'>set_units</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='st'>"m^2"</span><span class='op'>)</span>,
  raster_edge_buffer <span class='op'>=</span> <span class='fu'>units</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/units/man/units.html'>set_units</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='st'>"m^2"</span><span class='op'>)</span>,
  relative <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>polygons</th>
      <td><p><code>sf</code> (with projected coordinate reference system).</p></td>
    </tr>
    <tr>
      <th>raster</th>
      <td><p><code>SpatRaster</code> object from <code><a href='https://rdrr.io/pkg/terra/man/rast.html'>terra::rast()</a></code>. Should have a (projected) coordinate reference system similar to <code>polygons</code>.</p></td>
    </tr>
    <tr>
      <th>raster_min_patch_size</th>
      <td><p>Minimum patch size to be included in results.
Provided either as a units object (see <code><a href='https://rdrr.io/pkg/units/man/units.html'>units::set_units()</a></code>),
or a number in the units of the coordinate reference system. Defaults to <code>0</code> m^2.</p></td>
    </tr>
    <tr>
      <th>raster_edge_buffer</th>
      <td><p>numeric. Specify buffer distance to add to polygonised raster; the total edge length of <code>polygons</code> that
<a href='https://postgis.net/docs/ST_Intersection.html'>intersect</a> the buffered <code>raster</code>
will be summed up together with the total edge length contained <a href='https://postgis.net/docs/ST_Within.html'>within</a> the <code>polygons</code>.
Defaults to <code>0</code> (only patches fully contained <a href='https://postgis.net/docs/ST_Within.html'>within</a> polygons will be considered).
Provided either as a units object (see <code><a href='https://rdrr.io/pkg/units/man/units.html'>units::set_units()</a></code>), or a number in the units of the coordinate reference system.</p></td>
    </tr>
    <tr>
      <th>relative</th>
      <td><p>logical. Whether or not to calculate relative amounts
(i.e. ratio of edge-to-perimeter length). Defaults to <code>TRUE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>polygons</code> with added column(s) <code>&lt; class value &gt;_length</code>, and <code>&lt; class value &gt;_length_perim_ratio</code> if <code>relative</code> is set to <code>TRUE</code>.
Note that the value <code>0</code> will be summarised; convert pixels to <code>NA</code> if you wish to exclude them.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://xp-song.github.io'>Xiao Ping Song</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


