<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get started with home2park • home2park</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Get started with home2park">
<meta property="og:description" content="home2park">
<meta property="og:image" content="man/figures/logo.png">
<meta property="og:image:alt" content="Spatial Provision of Urban Parks">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@song_xiaoping">
<meta name="twitter:site" content="https://xp-song.github.io">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-NS9BX6B4CZ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NS9BX6B4CZ');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">home2park</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/home2park.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/online/metric-comparisons.html">Park area provision: Metric comparisons</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ecological-cities/home2park/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="home2park_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get started with home2park</h1>
                        <h4 class="author">Song, Xiao Ping</h4>
            
            <h4 class="date">2021-08-05</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ecological-cities/home2park/blob/master/vignettes/home2park.Rmd"><code>vignettes/home2park.Rmd</code></a></small>
      <div class="hidden name"><code>home2park.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>Parks are important spaces for recreation and leisure in cities. Conventional metrics that measure the provision of parks to city residents usually summarise the park area within a given region (e.g. per capita park area). However, there is a need to characterise the wide variety of parks (e.g. nature areas, gardens, waterfront parks, outdoor playgrounds, etc.) that serve different groups of people. When planning at fine spatial scales, such metrics are also limited by their coarse spatial resolution and the presence of artificial boundaries.</p>
<p>The package <code>home2park</code> provides a way to measure <em>multiple aspects</em> of park provision to homes, at the resolution of <em>individual buildings</em>. The key features include the ability to:</p>
<ul>
<li>Download relevant data from OpenStreetMap (OSM) such as buildings, parks and features related to recreation (alternatively, the user may use their own datasets).</li>
<li>Redistribute coarse-scale population data (e.g. per census unit) into residential buildings, also known as ‘dasymetric mapping’.</li>
<li>Summarise at each park multiple attributes that are important for recreation.</li>
<li>Calculate the supply (provision) of the park attributes to each residential building, while accounting for ‘distance decay’, or the fact that supply from parks further away are reduced.</li>
</ul>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the development version of <code>home2park</code> from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"ecological-cities/home2park"</span><span class="op">)</span></code></pre></div>
</div>
<div id="setup" class="section level2">
<h2 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h2>
<p>Load the package:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ecological-cities/home2park">home2park</a></span><span class="op">)</span></code></pre></div>
<p><br></p>
</div>
<div id="process-city-population" class="section level2">
<h2 class="hasAnchor">
<a href="#process-city-population" class="anchor"></a>1. Process city population</h2>
<p>The first step is to process data related to the residential population (e.g. population census counts, residential buildings), in order to get the population count per building. The package comes with example data from the city of Singapore. This includes <a href="https://www.singstat.gov.sg/find-data/search-by-theme/population/geographic-distribution/latest-data">population counts</a> per <a href="https://data.gov.sg/dataset/master-plan-2019-subzone-boundary-no-sea">census unit</a> in the years 2018 and 2020, and land use zones based on the Master Plan released in the years <a href="https://data.gov.sg/dataset/master-plan-2014-land-use">2014</a> and <a href="https://data.gov.sg/dataset/master-plan-2019-land-use-layer">2019</a>. To get the residential buildings for the population census conducted in 2020, we can download building polygons from OpenStreetMap on 2021-01-01, and subset them to areas within ‘residential’ land use zones in the 2019 Master Plan. The processed polygons can then be rasterised in preparation for dasymetric mapping.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">pop_sgp</span><span class="op">)</span> <span class="co"># population count per census unit (years 2018 &amp; 2020)</span>
<span class="va">pop_sgp</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="va">pop_sgp</span>, <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="fl">32648</span><span class="op">)</span><span class="op">)</span> <span class="co"># transform to projected crs</span>
  

<span class="co"># merge all census units for chosen year (2020) into single multi-polygon </span>
<span class="co"># next function requires that polygons are merged</span>
<span class="va">city_boundaries</span> <span class="op">&lt;-</span> <span class="va">pop_sgp</span> <span class="op">%&gt;%</span>
    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2020</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_combine.html">st_union</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
    <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">smoothr</span><span class="fu">::</span><span class="fu"><a href="https://strimas.com/smoothr/reference/fill_holes.html">fill_holes</a></span><span class="op">(</span>threshold <span class="op">=</span> <span class="fu">units</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/units/man/units.html">set_units</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"km^2"</span><span class="op">)</span><span class="op">)</span>  <span class="op">%&gt;%</span> <span class="co"># clean up</span>
    <span class="fu">smoothr</span><span class="fu">::</span><span class="fu"><a href="https://strimas.com/smoothr/reference/drop_crumbs.html">drop_crumbs</a></span><span class="op">(</span>threshold <span class="op">=</span> <span class="fu">units</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/units/man/units.html">set_units</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"km^2"</span><span class="op">)</span><span class="op">)</span>  <span class="op">%&gt;%</span>
    <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/valid.html">st_make_valid</a></span><span class="op">(</span><span class="op">)</span>


<span class="co"># get buildings from OpenStreetMap (use closest matching archive date)</span>
<span class="co"># raw data saved in tempdir() unless otherwise specified</span>
<span class="va">buildings</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_buildings_osm.html">get_buildings_osm</a></span><span class="op">(</span>place <span class="op">=</span> <span class="va">city_boundaries</span>,
                               date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2021-01-01"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2020</span><span class="op">)</span>



<span class="co"># rasterise population - specify relevant column names</span>
<span class="va">pop_rasters</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rasterise_pop.html">rasterise_pop</a></span><span class="op">(</span><span class="va">pop_sgp</span>,
                             census_block <span class="op">=</span> <span class="st">"subzone_n"</span>,
                             pop_count <span class="op">=</span> <span class="st">"pop_count"</span>,
                             year <span class="op">=</span> <span class="st">"year"</span><span class="op">)</span>


<span class="co"># rasterise land use - specify relevant column names and residential land use classes</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">landuse_sgp</span><span class="op">)</span> 
<span class="va">landuse_sgp</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_transform.html">st_transform</a></span><span class="op">(</span><span class="va">landuse_sgp</span>, <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html">st_crs</a></span><span class="op">(</span><span class="fl">32648</span><span class="op">)</span><span class="op">)</span> <span class="co"># transform to projected crs</span>

<span class="va">landuse_rasters</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rasterise_landuse.html">rasterise_landuse</a></span><span class="op">(</span><span class="va">landuse_sgp</span>,
                                     land_use <span class="op">=</span> <span class="st">'lu_desc'</span>,
                                     subset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'1'</span> <span class="op">=</span> <span class="st">'RESIDENTIAL'</span>,
                                                <span class="st">'2'</span> <span class="op">=</span> <span class="st">'COMMERCIAL &amp; RESIDENTIAL'</span>,
                                                <span class="st">'3'</span> <span class="op">=</span> <span class="st">'RESIDENTIAL WITH COMMERCIAL AT 1ST STOREY'</span>,
                                                <span class="st">'4'</span> <span class="op">=</span> <span class="st">'RESIDENTIAL / INSTITUTION'</span><span class="op">)</span>,
                                     sf_pop <span class="op">=</span> <span class="va">pop_sgp</span><span class="op">)</span>


<span class="co"># rasterise buildings - specify relevant column names</span>
<span class="co"># the column 'levels' is a proxy for how densely populated the building can be (i.e. more residents per unit area)</span>
<span class="va">buildings_rasters</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rasterise_buildings.html">rasterise_buildings</a></span><span class="op">(</span><span class="va">buildings</span>,
                                         proxy_pop_density <span class="op">=</span> <span class="st">'levels'</span>,
                                         year <span class="op">=</span> <span class="st">'year'</span>,
                                         sf_pop <span class="op">=</span> <span class="va">pop_sgp</span>,
                                         sf_landuse <span class="op">=</span> <span class="va">landuse_sgp</span><span class="op">)</span></code></pre></div>
<p>Next, perform dasymetric mapping to redistribute the population counts per census unit region (year 2020) into the residential buildings. The number of building ‘levels’ from OSM can be used as a proxy for population density (i.e. more residents per unit area).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># list element 2 is for the year 2020</span>
<span class="va">popdens_raster</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pop_dasymap.html">pop_dasymap</a></span><span class="op">(</span>pop_polygons <span class="op">=</span> <span class="va">pop_rasters</span><span class="op">$</span><span class="va">pop_polygons</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>,
                               pop_perblock_count <span class="op">=</span> <span class="va">pop_rasters</span><span class="op">$</span><span class="va">pop_count</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>,
                               pop_perblock_density <span class="op">=</span> <span class="va">pop_rasters</span><span class="op">$</span><span class="va">pop_density</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>,
                               land_relative_density <span class="op">=</span> <span class="va">buildings_rasters</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<p><br></p>
<p>Here’s a screenshot showing an overlay of the multiple datasets used to redistribute the population data per census unit (subzones) across residential buildings.</p>
<div class="figure" style="text-align: center">
<img src="../man/figures/README-dasymetric-mapping.png" alt="Example screenshot showing an overlay of multiple datasets used to redistribute the population across buildings within residential land use zones. The legends are ordered (top to bottom) by increasing spatial resolution." width="80%"><p class="caption">
Example screenshot showing an overlay of multiple datasets used to redistribute the population across buildings within residential land use zones. The legends are ordered (top to bottom) by increasing spatial resolution.
</p>
</div>
<p><br></p>
<p>Finally, we can convert this raster to building polygons each with a population count. Note that this is provided as an example dataset <code><a href="https://rdrr.io/r/utils/data.html">data(buildings_pop_sgp)</a></code> in this package.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">buildings_pop_sgp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pop_density_polygonise.html">pop_density_polygonise</a></span><span class="op">(</span>input_raster <span class="op">=</span> <span class="va">popdens_raster</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">buildings_pop_sgp</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; Simple feature collection with 6 features and 1 field
#&gt; Geometry type: POLYGON
#&gt; Dimension:     XY
#&gt; Bounding box:  xmin: 368430.2 ymin: 161460 xmax: 370940.2 ymax: 161610
#&gt; Projected CRS: WGS 84 / UTM zone 48N
#&gt;     popcount                       geometry
#&gt; 1 218.885435 POLYGON ((368490.2 161610, ...
#&gt; 2  39.797352 POLYGON ((368430.2 161550, ...
#&gt; 3   9.219688 POLYGON ((370680.2 161550, ...
#&gt; 4   9.949338 POLYGON ((368460.2 161530, ...
#&gt; 5  85.282118 POLYGON ((370840.2 161550, ...
#&gt; 6 218.885435 POLYGON ((368460.2 161580, ...</code></pre>
<p><br></p>
</div>
<div id="process-parks" class="section level2">
<h2 class="hasAnchor">
<a href="#process-parks" class="anchor"></a>2. Process parks</h2>
<p>The example dataset <code><a href="https://rdrr.io/r/utils/data.html">data(parks_sgp)</a></code> contains parks in Singapore and selected attributes related to recreation/leisure (downloaded from OSM on 2021-01-01). This was downloaded and processed as follows. Parks within other cities (provided polygon boundaries) can be downloaded and processed in a similar manner.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># get park polygons</span>
<span class="va">parks_sgp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_parks_osm.html">get_parks_osm</a></span><span class="op">(</span><span class="va">city_boundaries</span>,
                           date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2021-01-01"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>


<span class="co"># get playground points</span>
<span class="va">playgrounds</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_playgrounds_osm.html">get_playgrounds_osm</a></span><span class="op">(</span>place <span class="op">=</span> <span class="va">city_boundaries</span>,
                                   date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2021-01-01"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>

<span class="co"># get trail lines</span>
<span class="va">trails</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_trails_osm.html">get_trails_osm</a></span><span class="op">(</span>place <span class="op">=</span> <span class="va">city_boundaries</span>,
                         date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2021-01-01"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>


<span class="co"># convert to lists</span>
<span class="va">point_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">playgrounds</span><span class="op">)</span> <span class="co"># calculation of attributes requires input to be named list </span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">point_list</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"playground"</span><span class="op">)</span>

<span class="va">line_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">trails</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">line_list</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"trails"</span><span class="op">)</span>


<span class="co"># per park, calculate point count/density &amp; line length/ratio </span>
<span class="va">parks_sgp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/parks_calc_attributes.html">parks_calc_attributes</a></span><span class="op">(</span>parks <span class="op">=</span> <span class="va">parks_sgp</span>, 
                                   data_points <span class="op">=</span> <span class="va">point_list</span>,
                                   data_lines <span class="op">=</span> <span class="va">line_list</span>,
                                   relative <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">parks_sgp</span><span class="op">[</span>, <span class="fl">28</span><span class="op">:</span><span class="fl">33</span><span class="op">]</span><span class="op">)</span> <span class="co"># view park attributes</span></code></pre></div>
<pre><code>#&gt; Simple feature collection with 6 features and 6 fields
#&gt; Geometry type: MULTIPOLYGON
#&gt; Dimension:     XY
#&gt; Bounding box:  xmin: 364364.4 ymin: 138034.6 xmax: 374328.5 ymax: 142157.4
#&gt; Projected CRS: WGS 84 / UTM zone 48N
#&gt;               area     perimeter playground_count playground_ptdensity
#&gt; 1   2454.365 [m^2]  346.5265 [m]                0            0 [1/m^2]
#&gt; 2   1964.286 [m^2]  305.3844 [m]                0            0 [1/m^2]
#&gt; 3 219319.203 [m^2] 3019.2241 [m]                0            0 [1/m^2]
#&gt; 4  22513.834 [m^2]  615.1039 [m]                0            0 [1/m^2]
#&gt; 5 571259.766 [m^2] 3973.5567 [m]                0            0 [1/m^2]
#&gt; 6  67533.345 [m^2] 1092.2758 [m]                0            0 [1/m^2]
#&gt;    trails_length trails_length_perim_ratio                       geometry
#&gt; 1     0.0000 [m]             0.0000000 [1] MULTIPOLYGON (((371727.8 13...
#&gt; 2     0.0000 [m]             0.0000000 [1] MULTIPOLYGON (((371454.2 13...
#&gt; 3  4072.5481 [m]             1.3488724 [1] MULTIPOLYGON (((367154.1 13...
#&gt; 4   837.9212 [m]             1.3622434 [1] MULTIPOLYGON (((369087 1409...
#&gt; 5 20947.6579 [m]             5.2717652 [1] MULTIPOLYGON (((373309.8 14...
#&gt; 6   905.5080 [m]             0.8290105 [1] MULTIPOLYGON (((364400.3 14...</code></pre>
<p><br></p>
</div>
<div id="recreation-supply" class="section level2">
<h2 class="hasAnchor">
<a href="#recreation-supply" class="anchor"></a>3. Recreation supply</h2>
<p>The processed data can now be used to calculate the provision of park attributes per residential building. The total supply <span class="math inline">\(S\)</span> of each park attribute to a building is calculated based on the following equation. Its value depends on the distances between that particular building and all parks; supply from parks further away are generally reduced as a result of the negative exponential function <em>e<sup>-cd</sup></em>, an effect also known as the ‘distance decay’ (<a href="http://dx.doi.org/10.1016/j.apgeog.2015.06.008">Rossi et al., 2015</a>).</p>
<p><img src="../man/figures/README-equation.png" width="18%" style="display: block; margin: auto;"></p>
<p>where</p>
<ul>
<li><p><span class="math inline">\(S\)</span> = Total supply of a specific park attribute to the building from parks <span class="math inline">\(i\)</span>; <span class="math inline">\(i\)</span> = 1,2,3, … <span class="math inline">\(n\)</span> where <span class="math inline">\(n\)</span> = total number of parks citywide.</p></li>
<li><p><span class="math inline">\(s_{i}\)</span> = Supply of a specific park attribute from park <span class="math inline">\(i\)</span>. A perfect positive linear association is assumed, since the focus is on supply metrics.</p></li>
<li><p><span class="math inline">\(d_{i}\)</span> = Distance in kilometres from the building to park <span class="math inline">\(i\)</span> (e.g. Euclidean, Manhattan, etc.).</p></li>
<li><p><span class="math inline">\(c\)</span> = Coefficient determining rate of decay in supply <span class="math inline">\(s_{i}\)</span> with increasing distance.</p></li>
</ul>
<p><br></p>
<p>The value of coefficient <span class="math inline">\(c\)</span> depends on both park and park visitors’ attributes, such as socio-demographic factors and preferences for activities that may impel shorter or longer travel (<a href="http://dx.doi.org/10.1016/j.apgeog.2015.06.008">Rossi et al., 2015</a>). For example, (non-Euclidean) distance decay in the ratio of visitors at urban parks in Beijing in <a href="https://doi.org/10.1016/j.ufug.2020.126689">Tu et al. (2020)</a> fit the negative exponential curve <em>e<sup>-cd</sup></em>, with coefficient <span class="math inline">\(c\)</span> empirically determined as <em>0.302</em>. Empirical cut-off distances were 1–2km where most (&gt; 50%) people would visit a park and 5–10km beyond which few (&lt; 5%) people would visit a park.</p>
<div class="figure" style="text-align: center">
<img src="../man/figures/README-c-sensitivity.png" alt="Figure: The value of Coefficient c and its effect on the distance decay between a building and park." width="50%"><p class="caption">
Figure: The value of Coefficient c and its effect on the distance decay between a building and park.
</p>
</div>
<p><br></p>
<div class="figure" style="text-align: center">
<img src="../man/figures/README-c-sensitivity-map.png" alt="Screenshot: Examples showing the supply of OSM park area to residential buildings in Singapore for the year 2020 when the value of Coefficient c is 0.1 (left panel) and 1 (right panel). Each building is denoted as a pount (a random subset is shown). The color palette for the buildings (points) is binned according to the quantile values." width="100%"><p class="caption">
Screenshot: Examples showing the supply of OSM park area to residential buildings in Singapore for the year 2020 when the value of Coefficient c is 0.1 (left panel) and 1 (right panel). Each building is denoted as a pount (a random subset is shown). The color palette for the buildings (points) is binned according to the quantile values.
</p>
</div>
<p><br></p>
<p>To calculate the supply of each park attribute, we first calculate the pairwise distances between all buildings and parks (a distance matrix). This output is supplied to the function <code><a href="../reference/recre_supply.html">recre_supply()</a></code>. For example, we can calculate the supply of park <em>area</em> to each building. This supply value can then be multiplied by the population count per building, to obtain the total supply to all residents. This can help highlight important areas where more people would benefit from the presence of parks.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># convert buildings to points (centroids), then calculate distances to every park</span>
<span class="va">m_dist</span> <span class="op">&lt;-</span> <span class="va">buildings_pop_sgp</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html">st_centroid</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_measures.html">st_distance</a></span><span class="op">(</span><span class="va">parks_sgp</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co"># euclidean distance</span>
    <span class="fu">units</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/units/man/units.html">set_units</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>

<span class="va">m_dist</span> <span class="op">&lt;-</span> <span class="va">m_dist</span> <span class="op">/</span> <span class="fl">1000</span> <span class="co"># convert distances to km</span>


<span class="co"># new column for the supply of park area</span>
<span class="va">buildings_pop_sgp</span><span class="op">$</span><span class="va">area_supply</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/recre_supply.html">recre_supply</a></span><span class="op">(</span>park_attribute <span class="op">=</span> <span class="va">parks_sgp</span><span class="op">$</span><span class="va">area</span>, 
                                              dist_matrix <span class="op">=</span> <span class="va">m_dist</span>, 
                                              c <span class="op">=</span> <span class="fl">0.302</span><span class="op">)</span> <span class="co"># e.g. from Tu et al. (2020)</span>


<span class="co"># supply to all residents per building</span>
<span class="va">buildings_pop_sgp</span><span class="op">$</span><span class="va">area_supplytopop</span> <span class="op">&lt;-</span> <span class="va">buildings_pop_sgp</span><span class="op">$</span><span class="va">area_supply</span> <span class="op">*</span> <span class="va">buildings_pop_sgp</span><span class="op">$</span><span class="va">popcount</span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="../man/figures/README-supply-parkarea-to-building-residents.png" alt="Screenshot: Supply of park area to building residents in Singapore based on OSM data (2020). Each building is denoted as a point (a random subset is shown). The color palette is binned according to the quantile values." width="100%"><p class="caption">
Screenshot: Supply of park area to building residents in Singapore based on OSM data (2020). Each building is denoted as a point (a random subset is shown). The color palette is binned according to the quantile values.
</p>
</div>
<p><br></p>
<p>Finally, it is also possible to summarise the supply values of buildings within coarser spatial regions. This allows us to compare our results with conventional park provision metrics (per capita park area) for the selected year 2020.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># calculate for year 2020</span>
<span class="va">pop_2020</span> <span class="op">&lt;-</span> <span class="va">pop_sgp</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2020</span><span class="op">)</span></code></pre></div>
<p>Calculate summary statistics (e.g. sum, median, mean) for the supply of park area within each region:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># append subzone info to buildings if building intersects with subzone  </span>
<span class="va">buildings_subzones</span> <span class="op">&lt;-</span> <span class="va">buildings_pop_sgp</span>  <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_join.html">st_join</a></span><span class="op">(</span><span class="va">pop_2020</span>,
              join <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="va"><a href="https://r-spatial.github.io/sf/reference/geos_binary_pred.html">st_intersects</a></span>,
              left <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_set_geometry</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>


<span class="co"># summarise total/median/average supply value for all buildings within subzone</span>
<span class="va">buildings_subzones</span> <span class="op">&lt;-</span> <span class="va">buildings_subzones</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">subzone_n</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span><span class="fu">across</span><span class="op">(</span>.cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">area_supply</span>, <span class="va">area_supplytopop</span><span class="op">)</span>, 
                          .fns <span class="op">=</span> <span class="va">sum</span>, .names <span class="op">=</span> <span class="st">"{.col}_sum"</span><span class="op">)</span>,
                   <span class="fu">across</span><span class="op">(</span>.cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">area_supply</span>, <span class="va">area_supplytopop</span><span class="op">)</span>, 
                          .fns <span class="op">=</span> <span class="va">median</span>, .names <span class="op">=</span> <span class="st">"{.col}_median"</span><span class="op">)</span>,
                   <span class="fu">across</span><span class="op">(</span>.cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">area_supply</span>, <span class="va">area_supplytopop</span><span class="op">)</span>, 
                          .fns <span class="op">=</span> <span class="va">mean</span>, .names <span class="op">=</span> <span class="st">"{.col}_mean"</span><span class="op">)</span><span class="op">)</span> 
  

<span class="co"># join information to pop_2020, calculate supply per capita</span>
<span class="va">pop_2020</span> <span class="op">&lt;-</span> <span class="va">pop_2020</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">buildings_subzones</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>area_supplyperpop <span class="op">=</span> <span class="va">area_supplytopop_sum</span> <span class="op">/</span> <span class="va">pop_count</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>area_supplyperpop <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/is.finite.html">is.infinite</a></span><span class="op">(</span><span class="va">area_supplyperpop</span><span class="op">)</span>, <span class="cn">NA</span>, <span class="va">area_supplyperpop</span><span class="op">)</span><span class="op">)</span> <span class="co"># make infinite NA</span></code></pre></div>
<p>Calculate the per capita park area for each census unit:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">subzones_parks</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_binary_ops.html">st_intersection</a></span><span class="op">(</span><span class="va">pop_2020</span>, <span class="va">parks_sgp</span><span class="op">)</span> <span class="co"># subset census unit polygons to those that intersect parks, append park info</span>
<span class="va">subzones_parks</span><span class="op">$</span><span class="va">parkarea_m2</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_measures.html">st_area</a></span><span class="op">(</span><span class="va">subzones_parks</span><span class="op">)</span> <span class="co"># calc area of each polygon</span>


<span class="co"># calculate total park area per census unit</span>
<span class="va">subzones_parks</span> <span class="op">&lt;-</span> <span class="va">subzones_parks</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">subzone_n</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>parkarea_m2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">parkarea_m2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html">st_drop_geometry</a></span><span class="op">(</span><span class="op">)</span>


<span class="co"># join information to pop_2020, calculate park area per capita</span>
<span class="va">pop_2020</span> <span class="op">&lt;-</span> <span class="va">pop_2020</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">subzones_parks</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>parkarea_m2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">parkarea_m2</span><span class="op">)</span>, <span class="fl">0</span>, <span class="va">parkarea_m2</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co"># make NA 0</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>parkperpop_m2 <span class="op">=</span> <span class="va">parkarea_m2</span> <span class="op">/</span> <span class="va">pop_count</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>parkperpop_m2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/is.finite.html">is.infinite</a></span><span class="op">(</span><span class="va">parkperpop_m2</span><span class="op">)</span>, <span class="co"># make infinite NA</span>
                                <span class="cn">NA</span>, <span class="va">parkperpop_m2</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>parkperpop_m2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/is.finite.html">is.nan</a></span><span class="op">(</span><span class="va">parkperpop_m2</span><span class="op">)</span>, <span class="co"># make NaN NA</span>
                                <span class="cn">NA</span>, <span class="va">parkperpop_m2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><br></p>
<p>The following figure provides a visual comparison between the provision of park area per capita summarised per region (subzone), based on conventional metrics (left panel) and derived from each residential building (right panel). The interactive map is viewable online at <a href="https://ecological-cities.github.io/home2park/articles/online/metric-comparisons.html" class="uri">https://ecological-cities.github.io/home2park/articles/online/metric-comparisons.html</a>.</p>
<div class="figure" style="text-align: center">
<img src="../man/figures/vignette-subzone-park-area.png" alt="Screenshot: Provision of park area per capita within each subzone in Singapore, as measured by the total park area per subzone (left panel); and by the supply of park area to residents within residential buildings (right panel). Based on OSM data (2020). For the calculation of the supply value per building, the value for Coefficient c was set at 0.302. The color palettes are binned according to quantile values." width="100%"><p class="caption">
Screenshot: Provision of park area per capita within each subzone in Singapore, as measured by the total park area per subzone (left panel); and by the supply of park area to residents within residential buildings (right panel). Based on OSM data (2020). For the calculation of the supply value per building, the value for Coefficient c was set at 0.302. The color palettes are binned according to quantile values.
</p>
</div>
<p><br></p>
</div>
<div id="data-sources" class="section level2">
<h2 class="hasAnchor">
<a href="#data-sources" class="anchor"></a>Data sources</h2>
<ul>
<li><p>Singapore census data from the <a href="https://www.singstat.gov.sg/find-data/search-by-theme/population/geographic-distribution/latest-data">Department of Statistics Singapore</a>. Released under the terms of the <a href="https://data.gov.sg/open-data-licence">Singapore Open Data Licence version 1.0</a>.</p></li>
<li><p>Singapore subzone polygons from the <a href="https://data.gov.sg/dataset/master-plan-2019-subzone-boundary-no-sea">Singapore Master Plan Subzones</a>. Released under the terms of the <a href="https://data.gov.sg/open-data-licence">Singapore Open Data Licence version 1.0</a>.</p></li>
<li><p>Singapore Master Plan Land Use Zones for the years <a href="https://data.gov.sg/dataset/master-plan-2014-land-use">2014</a> and <a href="https://data.gov.sg/dataset/master-plan-2019-land-use-layer">2019</a>. Released under the terms of the <a href="https://data.gov.sg/open-data-licence">Singapore Open Data License</a>.</p></li>
<li><p>Building polygons derived from map data <a href="https://www.openstreetmap.org/copyright">copyrighted</a> OpenStreetMap contributors and available from <a href="https://www.openstreetmap.org" class="uri">https://www.openstreetmap.org</a>. Released under the terms of the <a href="https://opendatacommons.org/licenses/odbl/summary/">ODbL License</a>.</p></li>
<li><p>Park polygons and summarised attributes (trails, playgrounds) derived from map data <a href="https://www.openstreetmap.org/copyright">copyrighted</a> OpenStreetMap contributors and available from <a href="https://www.openstreetmap.org" class="uri">https://www.openstreetmap.org</a>. Released under the terms of the <a href="https://opendatacommons.org/licenses/odbl/summary/">ODbL License</a>.</p></li>
</ul>
<p><br></p>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<p>Rossi, S. D., Byrne, J. A., &amp; Pickering, C. M. (2015). The role of distance in peri-urban national park use: Who visits them and how far do they travel?. Applied Geography, 63, 77-88.</p>
<p>Tu, X., Huang, G., Wu, J., &amp; Guo, X. (2020). How do travel distance and park size influence urban park visits?. Urban Forestry &amp; Urban Greening, 52, 126689.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://xp-song.github.io">Xiao Ping Song</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
